/* vitals-base.js v3.0.0-beta" (https://github.com/imaginate/vitals)
 * Copyright (c) 2016 Adam A Smith <adam@imaginate.life>
 * The Apache License (https://github.com/imaginate/vitals/blob/master/LICENSE.md) */
(function(u,w){function z(b,q){return"object"===b||!q&&"function"===b}function x(b,q){return(b=b&&q&&b.nodeType?!1:b)&&!q&&b.Object!==Object?!1:!!b}function y(b){b.vitals=w;b.Vitals=w}var r=z(typeof exports)&&x(exports,!0),D=z(typeof module)&&x(module,!0),A=z(typeof global,!0)&&x(global),q=z(typeof window)&&x(window),E=z(typeof self)&&x(self),B=z(typeof u)&&x(u);u=r&&D&&A?global:q&&window!==(u&&u.window)?window:E?self:B?u:Function("return this")();q&&y(window);E&&y(self);y(u);r&&D&&(module.exports===
exports?module.exports=w:y(exports));"function"===typeof define&&define.amd&&"object"===typeof define.amd&&define(function(){return w})})(this,function(u){function w(b){var g;b="vitals."+b;g=function(h,g){g=g||"";g=b+(g&&".")+g;return Error(h+" for "+g+" call.").__vitals=!0};g.type=function(h,g){var m;g=g||"";g=b+(g&&".")+g;m=new TypeError("Invalid "+(h+" param")+" in "+g+" call.");m.__vitals=!0;return m};g.range=function(h,g,m){m=m||"";m=b+(m&&".")+m;h="The "+(h+" param")+" was out-of-range for a "+
m+" call.";g=new RangeError(h+(g?" The valid options are: "+g:""));g.__vitals=!0;return g};return g}function z(b,g){var h,l;h=b.length;for(l=-1;++l<h;)if(b[l]===g)return!0;return!1}function x(b,g,h){for(var l in g)q(g,l)&&(b[l]=g[l]);return b}function y(c,g){return b.regex(g)?g.test(c):B(c,g)}function r(c,g,h){var l,m;l=c.length;g=g?0>g?l+g:g:0;g=0>g?0:g;h=b.undefined(h)||h>l?l:0>h?l+h:h;if(g>=h)return[];l=Array(h-g);--g;for(m=0;++g<h;)l[m++]=c[g];return l}function D(c,g,h){var l;l=c.length;g=g?0>
g?l+g:g:0;g=0>g?0:g;h=b.undefined(h)||h>l?l:0>h?l+h:h;return g>=h?"":c.substring(g,h)}function A(b){var g;g=B(b,", ")?", ":B(b,",")?",":B(b,"|")?"|":" ";return b.split(g)}var q=function(){var b=Object.prototype.hasOwnProperty;return function(g,h){return!!g&&b.call(g,h)}}(),E=function(){function b(h,c){return(c.length>>>1)%2?h.substr(1):h}var g=/[\\^$.*+?|(){}[\]]/g,h=/[\\^$.+?|(){}[\]]/g,l=/(\\+)\*/g;return function(m,n,p){p?m=m.replace(p,"\\$&"):n?(m=m.replace(h,"\\$&"),m=l.test(m)?m.replace(l,b):
m):m=m.replace(g,"\\$&");return m}}(),B=function(){var b=String.prototype.includes?function(b,h){return b.includes(h)}:function(b,h){return-1!==b.indexOf(h)};return function(g,h){h=String(h);return g?h?b(g,h):!0:!h}}(),b=function(){var b={},g=Object.prototype.toString;b.nil=function(b){return null===b};b.undefined=function(b){return b===u};b.bool=function(b){return"boolean"===typeof b};b.str=function(b){return"string"===typeof b};b._str=function(b){return!!b&&"string"===typeof b};b.num=function(b){return"number"===
typeof b&&b===b};b._num=function(b){return!!b&&"number"===typeof b&&b===b};b.nan=function(b){return b!==b};b.obj=function(b){return!!b&&"object"===typeof b};b._obj=function(b){return(b=!!b&&typeof b)&&("object"===b||"function"===b)};b.func=function(b){return!!b&&"function"===typeof b};b.arr=function(b){return!!b&&"object"===typeof b&&"[object Array]"===g.call(b)};b._arr=function(h){if(!b.obj(h))return!1;h=g.call(h);return"[object Array]"===h||"[object Arguments]"===h};b.regex=function(b){return!!b&&
"object"===typeof b&&"[object RegExp]"===g.call(b)};b.date=function(b){return!!b&&"object"===typeof b&&"[object Date]"===g.call(b)};b.err=function(b){return!!b&&"object"===typeof b&&"[object Error]"===g.call(b)};b.args=function(b){return!!b&&"object"===typeof b&&"[object Arguments]"===g.call(b)};(function(){if(!b.args(arguments)){b._arr=function(b){return!!b&&"object"===typeof b&&("[object Array]"===g.call(b)||"callee"in b)};b.args=function(b){return!!b&&"object"===typeof b&&"callee"in b};try{b.args({})}catch(h){b._arr=
b.arr,b.args=function(){return!1}}}})();b.doc=function(b){return!!b&&"object"===typeof b&&9===b.nodeType};b.elem=function(b){return!!b&&"object"===typeof b&&1===b.nodeType};b.empty=function(h){var g;if(!b._obj(h))return!h;if(b.arr(h)||b.func(h))return!h.length;for(g in h)if(q(h,g))return!1;return!0};b.frozen=function(){if(!Object.isFrozen)return function(b){return!1};try{return Object.isFrozen(function(){}),Object.isFrozen}catch(h){return function(h){return b.obj(h)&&Object.isFrozen(h)}}}();b.whole=
function(b){return!(b%1)};b.odd=function(b){return!!(b%2)};b.even=function(b){return!(b%2)};b.un={};b.un.bool=function(b){return b===u||"boolean"===typeof b};b.un.str=function(b){return b===u||"string"===typeof b};b.un.num=function(b){return b===u||"number"===typeof b&&b===b};b.un.obj=function(b){return b===u||!!b&&"object"===typeof b};b.un.func=function(b){return b===u||!!b&&"function"===typeof b};b.un.arr=function(b){return b===u||!!b&&"object"===typeof b&&"[object Array]"===g.call(b)};b.nil.bool=
function(b){return null===b||"boolean"===typeof b};b.nil.str=function(b){return null===b||"string"===typeof b};b.nil.num=function(b){return null===b||"number"===typeof b&&b===b};b.nil.obj=function(b){return null===b||!!b&&"object"===typeof b};b.nil.func=function(b){return null===b||!!b&&"function"===typeof b};b.nil.arr=function(b){return null===b||!!b&&"object"===typeof b&&"[object Array]"===g.call(b)};b.nil.un={};b.nil.un.bool=function(b){return null===b||b===u||"boolean"===typeof b};b.nil.un.str=
function(b){return null===b||b===u||"string"===typeof b};b.nil.un.num=function(b){return null===b||b===u||"number"===typeof b&&b===b};b.nil.un.obj=function(b){return null===b||b===u||!!b&&"object"===typeof b};b.nil.un.func=function(b){return null===b||b===u||!!b&&"undefined"===typeof b};b.nil.un.arr=function(b){return null===b||b===u||!!b&&"object"===typeof b&&"[object Array]"===g.call(b)};return b}(),I=function(){var b=Object.prototype.propertyIsEnumerable;return function(g,h){return!!g&&b.call(g,
h)}}(),C=function(){function c(c,g){var h,l;if(2>arguments.length)throw d("No type or val");if(!b._str(c))throw d.type("types");if(e["*"](c))return!0;a:{l=c;var m;e["="](l)&&(l+="|undefined");l=l.toLowerCase();l=l.replace(a,"");l=l.split("|");for(h=l.length;h--;){m="_"+l[h];if(!q(f,m)){l=null;break a}l[h]=f[m]}l=l.length?l:null}if(!l)throw d.range("types",k);h=c;m=e["?"](h);h=e["!"](h);h=(m&&h?0:m||h)?!h&&m:u;if(2<arguments.length)a:{m=arguments;var n;for(n=m.length;--n;)if(!p(l,m[n],h)){l=!1;break a}l=
!0}else l=p(l,g,h);return l}function g(b,a){var d;for(d=b.length;d--;)if(!a(b[d]))return!1;return!0}function h(a){if(b.nil(a))return!1;if(!b._obj(a))throw d.type("val","frozen");return b.frozen(a)}function l(a){if(!b.num(a))throw d.type("val","whole");return b.whole(a)}function m(a){if(!b.num(a))throw d.type("val","odd");if(!b.whole(a))throw d.range("val","whole numbers","odd");return b.odd(a)}function n(a){if(!b.num(a))throw d.type("val","even");if(!b.whole(a))throw d.range("val","whole numbers",
"even");return b.even(a)}function p(b,a,d){var e;for(e=b.length;e--;)if(b[e](a,d))return!0;return!1}c["null"]=function(a){switch(arguments.length){case 0:throw d("Missing a val","null");case 1:return b.nil(a);default:return g(arguments,b.nil)}};c.nil=c["null"];c.undefined=function(a){switch(arguments.length){case 0:throw d("Missing a val","undefined");case 1:return b.undefined(a);default:return g(arguments,b.undefined)}};c["boolean"]=function(a){switch(arguments.length){case 0:throw d("Missing a val",
"boolean");case 1:return b.bool(a);default:return g(arguments,b.bool)}};c.bool=c["boolean"];c.string=function(a){switch(arguments.length){case 0:throw d("Missing a val","string");case 1:return b.str(a);default:return g(arguments,b.str)}};c.str=c.string;c._string=function(a){switch(arguments.length){case 0:throw d("Missing a val","_string");case 1:return b._str(a);default:return g(arguments,b._str)}};c._str=c._string;c.number=function(a){switch(arguments.length){case 0:throw d("Missing a val","number");
case 1:return b.num(a);default:return g(arguments,b.num)}};c.num=c.number;c._number=function(a){switch(arguments.length){case 0:throw d("Missing a val","_number");case 1:return b._num(a);default:return g(arguments,b._num)}};c._num=c._number;c.nan=function(a){switch(arguments.length){case 0:throw d("Missing a val","nan");case 1:return b.nan(a);default:return g(arguments,b.nan)}};c.object=function(a){switch(arguments.length){case 0:throw d("Missing a val","object");case 1:return b.obj(a);default:return g(arguments,
b.obj)}};c.obj=c.object;c._object=function(a){switch(arguments.length){case 0:throw d("Missing a val","_object");case 1:return b._obj(a);default:return g(arguments,b._obj)}};c._obj=c._object;c.func=function(a){switch(arguments.length){case 0:throw d("Missing a val","function");case 1:return b.func(a);default:return g(arguments,b.func)}};c.fn=c.func;try{c["function"]=c.func}catch(F){}c.array=function(a){switch(arguments.length){case 0:throw d("Missing a val","array");case 1:return b.arr(a);default:return g(arguments,
b.arr)}};c.arr=c.array;c._array=function(a){switch(arguments.length){case 0:throw d("Missing a val","_array");case 1:return b._arr(a);default:return g(arguments,b._arr)}};c._arr=c._array;c.regexp=function(a){switch(arguments.length){case 0:throw d("Missing a val","regexp");case 1:return b.regex(a);default:return g(arguments,b.regex)}};c.regex=c.regexp;c.re=c.regexp;c.date=function(a){switch(arguments.length){case 0:throw d("Missing a val","date");case 1:return b.date(a);default:return g(arguments,
b.date)}};c.error=function(a){switch(arguments.length){case 0:throw d("Missing a val","error");case 1:return b.err(a);default:return g(arguments,b.err)}};c.err=c.error;c.args=function(a){switch(arguments.length){case 0:throw d("Missing a val","args");case 1:return b.args(a);default:return g(arguments,b.args)}};c.document=function(a){switch(arguments.length){case 0:throw d("Missing a val","document");case 1:return b.doc(a);default:return g(arguments,b.doc)}};c.doc=c.document;c.element=function(a){switch(arguments.length){case 0:throw d("Missing a val",
"element");case 1:return b.elem(a);default:return g(arguments,b.elem)}};c.elem=c.element;c.empty=function(a){switch(arguments.length){case 0:throw d("Missing a val","empty");case 1:return b.empty(a);default:return g(arguments,b.empty)}};c.frozen=function(b){switch(arguments.length){case 0:throw d("Missing a val","frozen");case 1:return h(b);default:return g(arguments,h)}};c.whole=function(b){switch(arguments.length){case 0:throw d("Missing a val","whole");case 1:return l(b);default:return g(arguments,
l)}};c.odd=function(b){switch(arguments.length){case 0:throw d("Missing a val","odd");case 1:return m(b);default:return g(arguments,m)}};c.even=function(b){switch(arguments.length){case 0:throw d("Missing a val","even");case 1:return n(b);default:return g(arguments,n)}};var f=function(){function a(b,f,k){for(var c in f)q(f,c)&&d(b,c,f[c],k);return e}function d(a,f,k,c){k=q(d,a)?d[a](k):k;c=!1!==c;e["_"+f]=function(a,d){d=b.bool(d)?d:c;return b.nil(a)?d:k(a)};return e}var e={};d.arrays=function(a){return function(d){var e;
if(!b.arr(d))return!1;for(e=d.length;e--;)if(!a(d[e]))return!1;return!0}};d.maps=function(a){return function(d){var e;if(!b.obj(d))return!1;for(e in d)if(q(d,e)&&!a(d[e]))return!1;return!0}};e=a("primitives",{undefined:b.undefined,"boolean":b.bool,string:b.str,number:b.num,nan:b.nan},!1);e=d("primitives","null",b.nil);e=a("js_objects",{object:b.obj,regexp:b.regex,array:b.arr,date:b.date,error:b.err});e=d("js_objects","arguments",b.args);e=d("js_objects","function",b.func,!1);e=a("dom_objects",{element:b.elem,
document:b.doc});e=d("others","empty",b.empty);e=a("arrays",{nulls:b.nil,booleans:b.bool,strings:b.str,numbers:b.num,nans:b.nan,objects:b.obj,functions:b.func,regexps:b.regex,arrays:b.arr,dates:b.date,errors:b.err,elements:b.elem,documents:b.doc});e=a("maps",{nullmap:b.nil,booleanmap:b.bool,stringmap:b.str,numbermap:b.num,nanmap:b.nan,objectmap:b.obj,functionmap:b.func,regexpmap:b.regex,arraymap:b.arr,datemap:b.date,errormap:b.err,elementmap:b.elem,documentmap:b.doc});return e=function(b){var a,d;
for(a in b)q(b,a)&&(d="_"+b[a],a="_"+a,e[a]=e[d]);return e}({nil:"null",bool:"boolean",str:"string",num:"number",obj:"object",func:"function",fn:"function",regex:"regexp",re:"regexp",arr:"array",err:"error",args:"arguments",elem:"element",doc:"document",nils:"nulls",strs:"strings",nums:"numbers",bools:"booleans",objs:"objects",funcs:"functions",fns:"functions",regexs:"regexps",res:"regexps",arrs:"arrays",errs:"errors",elems:"elements",docs:"documents",nilmap:"nullmap",strmap:"stringmap",nummap:"numbermap",
boolmap:"booleanmap",objmap:"objectmap",funcmap:"functionmap",fnmap:"functionmap",regexmap:"regexpmap",remap:"regexpmap",arrmap:"arraymap",errmap:"errormap",elemmap:"elementmap",docmap:"documentmap"})}(),a=/[^a-z\|]/g,e=function(b,a,d,e,f){return{"|":function(a){return b.test(a)},"!":function(b){return a.test(b)},"?":function(b){return d.test(b)},"=":function(b){return e.test(b)},"*":function(b){return f.test(b)}}}(/\|/,/\!/,/\?/,/\=/,/\*|any/),d=w("is"),k="https://github.com/imaginate/vitals/blob/master/docs/is.js";
return c}(),v=function(){function c(e,d){if(!b.un.bool(d))throw a.type("deep");return b._obj(e)?b.func(e)?m(e,d):b._arr(e)?h(e,d):b.regex(e)?l(e):g(e,d):e}function g(b,a){return a?n({},b):x({},b)}function h(b,a){var f;f=Array(b.length);return a?n(f,b):x(f,b)}function l(a,d){var k,c;k=p(a.source);var g;c="";for(g in f)q(f,g)&&a[g]&&(c+=f[g]);c=b.undefined(d)?c:B(c,"g")?d?c:c.replace("g",""):d?c+"g":c;return c?new RegExp(k,c):new RegExp(k)}function m(b,a){var f;f=function(){return b.apply(null,arguments)};
return a?n(f,b):x(f,b)}function n(b,a){for(var f in a)q(a,f)&&(b[f]=c(a[f],!0));return b}c.object=function(e,d){if(!b.obj(e))throw a.type("obj","object");if(!b.un.bool(d))throw a.type("deep","object");return g(e,d)};c.obj=c.object;c.array=function(e,d){if(!b.obj(e))throw a.type("obj","array");if(!b.num(e.length))throw a.type("obj.length","array");if(!b.un.bool(d))throw a.type("deep","array");return h(e,d)};c.arr=c.array;c.args=c.array;c.regexp=function(e,d){if(!b.regex(e))throw a.type("regex","regexp");
if(!b.un.bool(d))throw a.type("forceGlobal","regexp");return l(e,d)};c.re=c.regexp;c.regex=c.regexp;c.func=function(e,d){if(!b.func(e))throw a.type("func","function");if(!b.un.bool(d))throw a.type("deep","function");return m(e,d)};try{c.fn=c.func,c["function"]=c.func}catch(e){}var p=function(){var b="\\n"!==/\n/.source?/\\/g:null;return b?function(a){return a.replace(b,"\\\\")}:function(b){return b}}(),f=x({ignoreCase:"i",multiline:"m",global:"g"},"sticky"in RegExp.prototype?{sticky:"y"}:null),a=
w("copy");return c}(),J=function(){function c(a,d,e){if(2>arguments.length)throw t("No val defined");if(b.str(a))return d=2<arguments.length?r(arguments,1):d,b.arr(d)?p(a,d):n(a,d);if(!b._obj(a))throw t.type("source");a=b.args(a)?r(a):a;if(b.func(d)){if(!b.nil.un.obj(e))throw t.type("thisArg");return b.arr(a)?u(a,d,e):H(a,d,e)}d=2<arguments.length?r(arguments,1):d;return b.arr(d)?h(a,d):g(a,d)}function g(e,c){return b.arr(e)?b.num(c)?d(e,c):F(e,c):C("!str|regex",c)?f(e,c):a(e,c)}function h(a,d){var c;
if(b.arr(a))c=C("nums",d)?k(a,d):G(a,d);else if(C("!str|regex",d[0])){c=a;var g,h,p;g=b.regex(d[0]);h=d.length;for(p=-1;++p<h;)c=f(c,d[p],g)}else c=e(a,d);return c}function l(a,d,e){var f;f=a.length;d=0>d?f+d:d;if(d>=f)return a;if(b.undefined(e)){if(0>d)return a;a.splice(d,1);return a}d=0>d?0:d;e=e>f?f:0>e?f+e:e;if(d>=e)return a;a.splice(d,e-d);return a}function m(d,e){return b.arr(d)?F(d,e):a(d,e)}function n(a,d){b.regex(d)||(d=String(d),d=E(d),d=new RegExp(d,"g"));return a.replace(d,"")}function p(b,
a){var d,e;d=a.length;for(e=-1;++e<d;)b=n(b,a[e]);return b}function f(a,d,e){e=b.undefined(e)?b.regex(d):e;if(!e)return q(a,d)&&delete a[d],a;e=d;for(d in a)q(a,d)&&y(d,e)&&delete a[d];return a}function a(b,a){for(var d in b)q(b,d)&&b[d]===a&&delete b[d];return b}function e(b,d){var e,f;e=d.length;for(f=-1;++f<e;)b=a(b,d[f]);return b}function d(b,a){var d;d=b.length;a=0>a?d+a:a;if(0>a||a>=d)return b;b.splice(a,1);return b}function k(b,a){var e,f,c,k;if(!b.length||!a.length)return b;if(2>a.length)return d(b,
a[0]);e=z(a,b.length);for(k=e.first.length;k--;)f=e.first[k],c=e.last[k]-f+1,b.splice(f,c);return b}function F(b,a){var d;for(d=b.length;d--;)b[d]===a&&b.splice(d,1);return b}function G(b,a){var d,e,f,c;e=a.length;for(c=b.length;c--;)for(d=b[c],f=e;f--;)if(a[f]===d){b.splice(c,1);break}return b}function H(a,d,e){var f;d=b.undefined(e)?d:x(d,e);e=2<d.length?v(a):a;switch(d.length){case 0:for(f in e)q(e,f)&&!d()&&delete a[f];break;case 1:for(f in e)q(e,f)&&!d(e[f])&&delete a[f];break;case 2:for(f in e)q(e,
f)&&!d(e[f],f)&&delete a[f];break;default:for(f in e)q(e,f)&&!d(e[f],f,e)&&delete a[f]}return a}function u(a,d,e){var f;d=b.undefined(e)?d:x(d,e);e=2<d.length?v.arr(a):a;f=e.length;switch(d.length){case 0:for(;f--;)d()||a.splice(f,1);break;case 1:for(;f--;)d(e[f])||a.splice(f,1);break;case 2:for(;f--;)d(e[f],f)||a.splice(f,1);break;default:for(;f--;)d(e[f],f,e)||a.splice(f,1)}return a}function x(b,a){switch(b.length){case 0:return function(){return b.call(a)};case 1:return function(d){return b.call(a,
d)};case 2:return function(d,e){return b.call(a,d,e)}}return function(d,e,f){return b.call(a,d,e,f)}}c.property=function(a,d,e){if(!b._obj(a))throw t.type("source","property");if(2>arguments.length)throw t("No val defined","property");a=b.args(a)?r(a):a;if(b.func(d)){if(!b.nil.un.obj(e))throw t.type("thisArg","property");return b.arr(a)?u(a,d,e):H(a,d,e)}return g(a,d)};c.prop=c.property;c.key=function(a,d){if(!b._obj(a))throw t.type("source","key");if(2>arguments.length)throw t("No key defined","key");
delete a[d];return a};c.index=function(a,d,e){if(!b._obj(a))throw t.type("source","index");if(!b.num(a.length))throw t.type("source.length","index");if(!b.num(d))throw t.type("index","index");if(!b.un.num(e))throw t.type("toIndex","index");a=b.arr(a)?a:r(a);return l(a,d,e)};c.i=c.index;c.type=function(a,d){if(!b._obj(a))throw t.type("source","type");if(!b.str(d))throw t.type("type","type");try{C(d,"_")}catch(e){throw new RangeError("Invalid type value for vitals.cut.type call. See error from are: "+
e.toString());}var f=a=b.args(a)?r(a):a;if(b.arr(f)){var c;for(c=f.length;c--;)C(d,f[c])&&f.splice(c,1)}else for(c in f)q(f,c)&&C(d,f[c])&&delete f[c];return f};c.value=function(a,d){if(!b._obj(a))throw t.type("source","value");if(2>arguments.length)throw t("No val defined","value");a=b.args(a)?r(a):a;return m(a,d)};c.val=c.value;c.pattern=function(a,d){if(!b.str(a))throw t.type("source","pattern");if(2>arguments.length)throw t("No pattern defined","pattern");return n(a,d)};c.properties=function(a,
d){if(!b._obj(a))throw t.type("source","properties");if(2>arguments.length)throw t("No val defined","properties");a=b.args(a)?r(a):a;d=2<arguments.length?r(arguments,1):d;return b.arr(d)?h(a,d):g(a,d)};c.props=c.properties;c.keys=function(a,d){if(!b._obj(a))throw t.type("source","keys");if(2>arguments.length)throw t("No key defined","keys");d=2<arguments.length?r(arguments,1):d;var e;if(b.arr(d)){e=a;var f=d,c,k;c=f.length;for(k=-1;++k<c;)delete e[f[k]]}else e=a,delete e[d];return e};c.indexes=function(a,
d){if(!b._obj(a))throw t.type("source","indexes");if(!b.num(a.length))throw t.type("source.length","indexes");if(2>arguments.length)throw t("No index defined","indexes");a=b.arr(a)?a:r(a);d=2<arguments.length?r(arguments,1):d;if(!b.arr(d)){if(!b.num(d))throw t.type("index","indexes");return l(a,d)}if(!C("!nums",d))throw t.type("index","indexes");return k(a,d)};c.ii=c.indexes;c.values=function(a,d){if(!b._obj(a))throw t.type("source","value");if(2>arguments.length)throw t("No val defined","value");
a=b.args(a)?r(a):a;d=2<arguments.length?r(arguments,1):d;var f;if(b.arr(d)){f=a;var c=d;f=b.arr(f)?G(f,c):e(f,c)}else f=m(a,d);return f};c.vals=c.values;c.patterns=function(a,d){if(!b.str(a))throw t.type("source","patterns");if(2>arguments.length)throw t("No pattern defined","patterns");d=2<arguments.length?r(arguments,1):d;return b.arr(d)?p(a,d):n(a,d)};var z=function(){function a(b,d){b=0>b?d+b:b;return 0>b||b>=d?-1:b}function b(a,f,c){var k;k=f+c>>>1;if(a<d[k]){var g,h;g=d[k];k?(c=k-1,h=e[c],a===
--g?a===++h?(e[c]=e[k],d.splice(k,1),e.splice(k,1)):d[k]=a:a>h?a===++h?e[c]=a:(d.splice(k,0,a),e.splice(k,0,a)):b(a,f,c)):a===--g?d[k]=a:(d.unshift(a),e.unshift(a))}else a>e[k]&&(f=k+1,h=e[k],f===e.length?a===++h?e[k]=a:(d.push(a),e.push(a)):(g=d[f],a===++h?a===--g?(e[k]=e[f],d.splice(f,1),e.splice(f,1)):e[k]=a:a<g?a===--g?d[f]=a:(d.splice(f,0,a),e.splice(f,0,a)):b(a,f,c)))}var d,e;return function(f,c){var k,g,h;d=[];e=[];g=f.length;h=0;for(k=a(f[h],c);-1===k&&++h<g;)k=a(f[h],c);d.push(k);for(e.push(k);++h<
g;)k=a(f[h],c),-1!==k&&b(k,0,e.length);return{first:d,last:e}}}(),t=w("cut");return c}(),K=function(){function c(c,f,a){if(!b.func(f))throw n.type("iteratee");if(!b.nil.un.obj(a))throw n.type("thisArg");if(b.num(c))return l(c,f,a);b.str(c)&&(c=A(c));if(!b._obj(c))throw n.type("source");return b._arr(c)?h(c,f,a):g(c,f,a)}function g(c,f,a){var e;c=2<f.length?v(c):c;f=b.undefined(a)?f:m(f,a);switch(f.length){case 0:for(e in c)q(c,e)&&f();break;case 1:for(e in c)q(c,e)&&f(c[e]);break;case 2:for(e in c)q(c,
e)&&f(c[e],e);break;default:for(e in c)q(c,e)&&f(c[e],e,c)}return c}function h(c,f,a){var e;c=2<f.length?v.arr(c):c;f=b.undefined(a)?f:m(f,a);a=c.length;e=-1;switch(f.length){case 0:for(;++e<a;)f();break;case 1:for(;++e<a;)f(c[e]);break;case 2:for(;++e<a;)f(c[e],e);break;default:for(;++e<a;)f(c[e],e,c)}return c}function l(c,f,a){f=b.undefined(a)?f:m(f,a);if(f.length)for(a=0;c--;)f(a++);else for(;c--;)f()}function m(b,f){switch(b.length){case 0:return function(){b.call(f)};case 1:return function(a){b.call(f,
a)};case 2:return function(a,e){b.call(f,a,e)}}return function(a,e,d){b.call(f,a,e,d)}}c.object=function(c,f,a){if(!b._obj(c))throw n.type("source","object");if(!b.func(f))throw n.type("iteratee","object");if(!b.nil.un.obj(a))throw n.type("thisArg","object");return g(c,f,a)};c.obj=c.object;c.array=function(c,f,a){b.str(c)&&(c=A(c));if(!b._obj(c))throw n.type("source","array");if(!b.num(c.length))throw n.type("source.length","array");if(!b.func(f))throw n.type("iteratee","array");if(!b.nil.un.obj(a))throw n.type("thisArg",
"array");return h(c,f,a)};c.arr=c.array;c.cycle=function(c,f,a){if(!b.num(c))throw n.type("count","cycle");if(!b.func(f))throw n.type("iteratee","cycle");if(!b.nil.un.obj(a))throw n.type("thisArg","cycle");return l(c,f,a)};c.time=c.cycle;var n=w("each");return c}(),L=function(){function c(c,f,a,e,d){if(2>arguments.length)throw n("No val defined");if(b.nil(c))return null;if(b.num(c))return m(c,f);if(!b._obj(c))throw n.type("source");if(b.arr(c)){d=e;e=a;a=f;if(!b.un.num(e))throw n.type("start");if(!b.un.num(d))throw n.type("end");
return l(c,a,e,d)}if(2<arguments.length){f=b.str(f)?A(f):f;if(!b.arr(f))throw n.type("keys");return h(c,f,a)}return g(c,f)}function g(b,f){for(var a in b)q(b,a)&&(b[a]=f);return b}function h(b,f,a){var e,d;e=f.length;for(d=-1;++d<e;)b[f[d]]=a;return b}function l(b,f,a,e){var d;d=b.length;a=a||0;a=0>a?d+a:a;a=0>a?0:a;e=e||d;e=e>d?d:0>e?d+e:e;if(a>=e)return b;for(--a;++a<e;)b[a]=f;return b}function m(b,f){var a;b=0>b?0:b;if(!b)return"";f=String(f);for(a="";b--;)a+=f;return a}c.object=function(c,f,a){if(!b._obj(c))throw n.type("obj",
"object");if(2>arguments.length)throw n("No val defined","object");if(2<arguments.length){f=b.str(f)?A(f):f;if(!b.arr(f))throw n.type("keys","object");return h(c,f,a)}return g(c,f)};c.obj=c.object;c.array=function(c,f,a,e){c=b.num(c)?Array(c):c;if(2>arguments.length)throw n("No val defined","array");if(!b.arr(c))throw n.type("arr","array");if(!b.un.num(a))throw n.type("start","array");if(!b.un.num(e))throw n.type("end","array");return l(c,f,a,e)};c.arr=c.array;c.string=function(c,f){if(!b.num(c))throw n.type("count",
"string");if(2>arguments.length)throw n("No val defined","string");return m(c,f)};c.str=c.string;var n=w("fill");return c}(),M=function(){function c(a,e){if(2>arguments.length)throw f("No val defined");if(b.str(a))return e=2<arguments.length?r(arguments,1):e,b.arr(e)?p(a,e):a+e;if(!b._obj(a))throw f.type("dest");a=b.args(a)?r(a):a;if(b.arr(a))return 2<arguments.length?(e=r(arguments,1),n(a,e)):m(a,e);e=2<arguments.length?r(arguments,1):e;return b.arr(e)?h(a,e):g(a,e)}function g(a,e){if(b._obj(e))return x(a,
e);b.nil(e)||(a[e]=u);return a}function h(a,b){var d,f;d=b.length;for(f=-1;++f<d;)a=g(a,b[f]);return a}function l(a,b){q(a,b)||(a[b]=u);return a}function m(a,e){if(b.arr(e))return a.concat(e);b.nil(e)||a.push(e);return a}function n(a,b){var d,f;d=b.length;for(f=-1;++f<d;)a=m(a,b[f]);return a}function p(a,b){var d,f;d=b.length;for(f=-1;++f<d;)a+=b[f];return a}c.value=function(a,e){if(2>arguments.length)throw f("No val defined","value");if(b.str(a)){if(3>arguments.length)return a+e;e=r(arguments,1);
return p(a,e)}if(!b._obj(a))throw f.type("dest","value");a=b.args(a)?r(a):a;if(3>arguments.length){var d;b.arr(a)?(d=a,d.push(e)):(d=a,d[e]=u);return d}e=r(arguments,1);if(b.arr(a)){d=a;var c=e,g,h;g=c.length;for(h=-1;++h<g;)d.push(c[h])}else{d=a;var c=e,l;h=c.length;for(l=-1;++l<h;)g=c[l],d[g]=u}return d};c.val=c.value;c.value.start=function(a,e){if(2>arguments.length)throw f("No val defined","value.start");if(b.str(a)){if(3>arguments.length)return e+a;e=r(arguments,1);var d=a,c,g;c=e.length;for(g=
-1;++g<c;)d=e[g]+d;return d}if(!b._obj(a))throw f.type("dest","value.start");a=b.args(a)?r(a):a;if(3>arguments.length)return b.arr(a)?(d=a,d.unshift(e)):d=l(a,e),d;e=r(arguments,1);if(b.arr(a)){d=a;c=e;var h;g=c.length;for(h=-1;++h<g;)d.unshift(c[h])}else for(d=a,c=e,g=c.length,h=-1;++h<g;)d=l(d,c[h]);return d};c.val.start=c.value.start;c.value.top=c.value.start;c.val.top=c.value.start;c.object=function(a,e){if(!b._obj(a))throw f.type("dest","object");if(2>arguments.length)throw f("No val defined",
"object");e=2<arguments.length?r(arguments,1):e;return b.arr(e)?h(a,e):g(a,e)};c.obj=c.object;c.array=function(a,e){if(!b._arr(a))throw f.type("dest","array");if(2>arguments.length)throw f("No val defined","array");a=b.args(a)?r(a):a;return 2<arguments.length?(e=r(arguments,1),n(a,e)):m(a,e)};c.arr=c.array;c.string=function(a,e){if(!b.str(a))throw f.type("dest","string");if(2>arguments.length)throw f("No val defined","string");e=2<arguments.length?r(arguments,1):e;return b.arr(e)?p(a,e):a+e};c.str=
c.string;var f=w("fuse");return c}(),N=function(){function c(d,c){if(b.nil(d))return null;if(b.str(d)){if(2>arguments.length)throw e("No val defined");return b.regex(c)?a(d,c):f(d,c)}if(!b._obj(d))throw e.type("source");return 2>arguments.length?b._arr(d)?n(d):g(d):b._arr(d)?p(d,c):b.regex(c)?m(d,c):l(d,c)}function g(a){var b,e;b=[];for(e in a)q(a,e)&&b.push(e);return b}function h(a,e){var f,c;e=b.regex(e)?e:String(e);f=[];for(c in a)q(a,c)&&y(c,e)&&f.push(c);return f}function l(a,b){var e,f;e=[];
for(f in a)q(a,f)&&a[f]===b&&e.push(f);return e}function m(a,e){var f,c;e=b.regex(e)?e:String(e);f=[];for(c in a)q(a,c)&&y(c,e)&&f.push(a[c]);return f}function n(a){var b,e;b=a.length;a=Array(b);for(e=-1;++e<b;)a[e]=e;return a}function p(a,b){var e,f,c;f=a.length;e=[];for(c=-1;++c<f;)a[c]===b&&e.push(c);return e}function f(a,e){var f;if(y(a,e)){if(b.regex(e)){var c,g;f=v.regex(e,!0);c=[];for(g=f.exec(a);g;)c.push(g.index),g=f.exec(a)}else for(f=String(e),c=[],g=a.indexOf(f);-1!==g;)c.push(g),g=a.indexOf(f,
++g);f=c}else f=[];return f}function a(a,e){var f;if(y(a,e)){if(b.regex(e)){var c,g;f=v.regex(e,!0);c=[];for(g=f.exec(a);g;)c.push(g[0]),g=f.exec(a)}else for(f=String(e),c=[],g=a.indexOf(f);-1!==g;)c.push(f),g=a.indexOf(f,++g);f=c}else f=[];return f}c.keys=function(a,f){if(!b._obj(a))throw e.type("source","keys");return 2>arguments.length?g(a):b.regex(f)?h(a,f):l(a,f)};c.keys.byKey=function(a,f){if(!b._obj(a))throw e.type("source","keys.byKey");if(2>arguments.length)throw e("No pattern defined","keys.byKey");
return h(a,f)};c.keys.byValue=function(a,f){if(!b._obj(a))throw e.type("source","keys.byValue");if(2>arguments.length)throw e("No val defined","keys.byValue");return l(a,f)};c.keys.byVal=c.keys.byValue;c.indexes=function(a,c){if(b.str(a)){if(2>arguments.length)throw e("No val defined","indexes");return f(a,c)}if(!b._obj(a))throw e.type("source","indexes");if(!b.num(a.length))throw e.type("source.length","indexes");return 2>arguments.length?n(a):p(a,c)};c.ii=c.indexes;c.values=function(d,f){if(b.str(d)){if(2>
arguments.length)throw e("No val defined","values");return a(d,f)}if(!b._obj(d))throw e.type("source","values");var c;if(2>arguments.length){var g;c=[];for(g in d)q(d,g)&&c.push(d[g])}else c=m(d,f);return c};c.vals=c.values;var e=w("get");return c}(),O=function(){function c(c,l){if(2>arguments.length)throw g("No key defined");if(b.nil(c))return!1;if(b.str(c))return y(c,l);if(!b._obj(c))throw g.type("source");return b._arr(c)?z(c,l):q(c,l)}c.key=function(c,l){if(2>arguments.length)throw g("No key defined",
"key");if(b.nil(c))return!1;if(!b._obj(c))throw g.type("source","key");return q(c,l)};c.value=function(c,l){if(2>arguments.length)throw g("No val defined","value");if(b.nil(c))return!1;if(!b._obj(c))throw g.type("source","value");var m;if(b._arr(c))m=z(c,l);else a:{for(m in c)if(q(c,m)&&c[m]===l){m=!0;break a}m=!1}return m};c.val=c.value;c.pattern=function(c,l){if(!b.str(c))throw g.type("source","pattern");if(2>arguments.length)throw g("No pattern defined","pattern");return y(c,l)};c.substring=function(c,
l){if(!b.str(c))throw g.type("source","substring");if(2>arguments.length)throw g("No str defined","substring");return B(c,l)};c.substr=c.substring;c.enumerable=function(c,l){if(2>arguments.length)throw g("No key defined","enumerable");if(b.nil(c))return!1;if(!b._obj(c))throw g.type("source","enumerable");return I(c,l)};try{c["enum"]=c.enumerable}catch(h){}var g=w("has");return c}(),P=function(){function c(f,a,e,d){if(b.str(f)){if(2>arguments.length)throw p("No iteratee defined");if(3>arguments.length)throw p("No replacement defined");
if(!b.nil.un.obj(d))throw p.type("thisArg");return l(f,a,e,d)}d=e;if(!b._obj(f))throw p.type("source");if(!b.func(a))throw p.type("iteratee");if(!b.nil.un.obj(d))throw p.type("thisArg");return b._arr(f)?h(f,a,d):g(f,a,d)}function g(f,a,e){var d,c;d={};f=2<a.length?v(f):f;a=b.undefined(e)?a:m(a,e);switch(a.length){case 0:for(c in f)q(f,c)&&(d[c]=a());break;case 1:for(c in f)q(f,c)&&(d[c]=a(f[c]));break;case 2:for(c in f)q(f,c)&&(d[c]=a(f[c],c));break;default:for(c in f)q(f,c)&&(d[c]=a(f[c],c,f))}return d}
function h(c,a,e){var d,g;c=2<a.length?v.arr(c):c;a=b.undefined(e)?a:m(a,e);d=c.length;e=Array(d);g=-1;switch(a.length){case 0:for(;++g<d;)e[g]=a();break;case 1:for(;++g<d;)e[g]=a(c[g]);break;case 2:for(;++g<d;)e[g]=a(c[g],g);break;default:for(;++g<d;)e[g]=a(c[g],g,c)}return e}function l(c,a,e,d){if(!c)return c;b.regex(a)||(a=String(a),a=E(a),a=new RegExp(a,"g"));e=b.func(e)?b.undefined(d)?e:n(e,d):String(e);return c.replace(a,e)}function m(b,a){switch(b.length){case 0:return function(){return b.call(a)};
case 1:return function(e){return b.call(a,e)};case 2:return function(e,d){return b.call(a,e,d)}}return function(e,d,c){return b.call(a,e,d,c)}}function n(b,a){switch(b.length){case 0:return function(){return b.call(a)};case 1:return function(e){return b.call(a,e)};case 2:return function(e,d){return b.call(a,e,d)};case 3:return function(e,d,c){return b.call(a,e,d,c)};case 4:return function(e,d,c,g){return b.call(a,e,d,c,g)};case 5:return function(e,d,c,g,h){return b.call(a,e,d,c,g,h)}}return function(){return b.apply(a,
arguments)}}c.object=function(c,a,e){if(!b._obj(c))throw p.type("source","object");if(!b.func(a))throw p.type("iteratee","object");if(!b.nil.un.obj(e))throw p.type("thisArg","object");return g(c,a,e)};c.obj=c.object;c.array=function(c,a,e){b.str(c)&&(c=A(c));if(!b._obj(c))throw p.type("source","array");if(!b.num(c.length))throw p.type("source.length","array");if(!b.func(a))throw p.type("iteratee","array");if(!b.nil.un.obj(e))throw p.type("thisArg","array");return h(c,a,e)};c.arr=c.array;c.string=
function(c,a,e,d){if(2>arguments.length)throw p("No pattern defined","string");if(3>arguments.length)throw p("No replacement defined","string");if(!b.str(c))throw p.type("source","string");if(!b.nil.un.obj(d))throw p.type("thisArg","string");return l(c,a,e,d)};c.str=c.string;var p=w("remap");return c}(),Q=function(){function c(c,m,n,p){var f;if(2>arguments.length)throw h("No source or iteratee defined");2===arguments.length?(n=m,m=c):3!==arguments.length||b.func(n)?f=!0:(p=n,n=m,m=c);if(!b.func(n))throw h.type("iteratee");
if(!b.nil.un.obj(p))throw h.type("thisArg");if(b.num(m)){if(!f)throw h("No base defined");var a=c,e=m,d=n,k=p,d=b.undefined(k)?d:g(d,k);if(1<d.length)for(k=0;e--;)a=d(a,k++);else for(;e--;)a=d(a);return a}if(!b._obj(m))throw h.type("source");if(b._arr(m))if(f)switch(a=c,e=m,d=n,k=p,e=3<d.length?v.arr(e):e,d=b.undefined(k)?d:g(d,k),k=e.length,f=-1,d.length){case 0:case 1:for(;++f<k;)a=d(a);break;case 2:for(;++f<k;)a=d(a,e[f]);break;case 3:for(;++f<k;)a=d(a,e[f],f);break;default:for(;++f<k;)a=d(a,e[f],
f,e)}else{a=m;e=n;d=p;a=3<e.length?v.arr(a):a;e=b.undefined(d)?e:g(e,d);d=a[0];k=a.length;f=0;switch(e.length){case 0:case 1:for(;++f<k;)d=e(d);break;case 2:for(;++f<k;)d=e(d,a[f]);break;case 3:for(;++f<k;)d=e(d,a[f],f);break;default:for(;++f<k;)d=e(d,a[f],f,a)}a=d}else{if(f)switch(e=c,d=m,k=n,f=p,d=3<k.length?v(d):d,k=b.undefined(f)?k:g(k,f),k.length){case 0:case 1:for(a in d)q(d,a)&&(e=k(e));break;case 2:for(a in d)q(d,a)&&(e=k(e,d[a]));break;case 3:for(a in d)q(d,a)&&(e=k(e,d[a],a));break;default:for(a in d)q(d,
a)&&(e=k(e,d[a],a,d))}else{a=m;f=n;var r=p,a=3<f.length?v(a):a;f=b.undefined(r)?f:g(f,r);switch(f.length){case 0:case 1:for(d in a)q(a,d)&&(k?e=f(e):(e=a[d],k=!0));break;case 2:for(d in a)q(a,d)&&(k?e=f(e,a[d]):(e=a[d],k=!0));break;case 3:for(d in a)q(a,d)&&(k?e=f(e,a[d],d):(e=a[d],k=!0));break;default:for(d in a)q(a,d)&&(k?e=f(e,a[d],d,a):(e=a[d],k=!0))}}a=e}return a}function g(b,c){switch(b.length){case 0:return function(){return b.call(c)};case 1:return function(g){return b.call(c,g)};case 2:return function(g,
h){return b.call(c,g,h)};case 3:return function(g,h,f){return b.call(c,g,h,f)}}return function(g,h,f,a){return b.call(c,g,h,f,a)}}c.up=function(c,m,n,p){var f;if(2>arguments.length)throw h("No source or iteratee defined","up");2===arguments.length?(n=m,m=c):3!==arguments.length||b.func(n)?f=!0:(p=n,n=m,m=c);if(!b.func(n))throw h.type("iteratee","up");if(!b.nil.un.obj(p))throw h.type("thisArg","up");if(b.num(m)){if(!f)throw h("No base defined","up");var a=c,e=m,d=n,k=p,d=b.undefined(k)?d:g(d,k);if(d.length)for(k=
0;e--;)a+=d(k++);else for(;e--;)a+=d();return a}if(!b._obj(m))throw h.type("source","up");if(b._arr(m))if(f)switch(a=c,e=m,d=n,k=p,e=2<d.length?v.arr(e):e,d=b.undefined(k)?d:g(d,k),k=e.length,f=-1,d.length){case 0:for(;++f<k;)a+=d();break;case 1:for(;++f<k;)a+=d(e[f]);break;case 2:for(;++f<k;)a+=d(e[f],f);break;default:for(;++f<k;)a+=d(e[f],f,e)}else{a=m;e=n;d=p;a=2<e.length?v.arr(a):a;e=b.undefined(d)?e:g(e,d);d=a[0];k=a.length;f=0;switch(e.length){case 0:for(;++f<k;)d+=e();break;case 1:for(;++f<
k;)d+=e(a[f]);break;case 2:for(;++f<k;)d+=e(a[f],f);break;default:for(;++f<k;)d+=e(a[f],f,a)}a=d}else{if(f)switch(e=c,d=m,k=n,f=p,d=2<k.length?v(d):d,k=b.undefined(f)?k:g(k,f),k.length){case 0:for(a in d)q(d,a)&&(e+=k());break;case 1:for(a in d)q(d,a)&&(e+=k(d[a]));break;case 2:for(a in d)q(d,a)&&(e+=k(d[a],a));break;default:for(a in d)q(d,a)&&(e+=k(d[a],a,d))}else{a=m;f=n;var r=p,a=2<f.length?v(a):a;f=b.undefined(r)?f:g(f,r);switch(f.length){case 0:for(d in a)q(a,d)&&(k?e+=f():(e=a[d],k=!0));break;
case 1:for(d in a)q(a,d)&&(k?e+=f(a[d]):(e=a[d],k=!0));break;case 2:for(d in a)q(a,d)&&(k?e+=f(a[d],d):(e=a[d],k=!0));break;default:for(d in a)q(a,d)&&(k?e+=f(a[d],d,a):(e=a[d],k=!0))}}a=e}return a};c.down=function(c,m,n,p){var f;if(2>arguments.length)throw h("No source or iteratee defined","down");2===arguments.length?(n=m,m=c):3!==arguments.length||b.func(n)?f=!0:(p=n,n=m,m=c);if(!b.func(n))throw h.type("iteratee","down");if(!b.nil.un.obj(p))throw h.type("thisArg","down");if(b.num(m)){if(!f)throw h("No base defined",
"down");var a=c,e=m,d=n,k=p,d=b.undefined(k)?d:g(d,k);if(d.length)for(k=0;e--;)a-=d(k++);else for(;e--;)a-=d();return a}if(!b._obj(m))throw h.type("source","down");if(b._arr(m))if(f)switch(a=c,e=m,d=n,k=p,e=2<d.length?v.arr(e):e,d=b.undefined(k)?d:g(d,k),k=e.length,f=-1,d.length){case 0:for(;++f<k;)a-=d();break;case 1:for(;++f<k;)a-=d(e[f]);break;case 2:for(;++f<k;)a-=d(e[f],f);break;default:for(;++f<k;)a-=d(e[f],f,e)}else{a=m;e=n;d=p;a=2<e.length?v.arr(a):a;e=b.undefined(d)?e:g(e,d);d=a[0];k=a.length;
f=0;switch(e.length){case 0:for(;++f<k;)d-=e();break;case 1:for(;++f<k;)d-=e(a[f]);break;case 2:for(;++f<k;)d-=e(a[f],f);break;default:for(;++f<k;)d-=e(a[f],f,a)}a=d}else{if(f)switch(e=c,d=m,k=n,f=p,d=2<k.length?v(d):d,k=b.undefined(f)?k:g(k,f),k.length){case 0:for(a in d)q(d,a)&&(e-=k());break;case 1:for(a in d)q(d,a)&&(e-=k(d[a]));break;case 2:for(a in d)q(d,a)&&(e-=k(d[a],a));break;default:for(a in d)q(d,a)&&(e-=k(d[a],a,d))}else{a=m;f=n;var r=p,a=2<f.length?v(a):a;f=b.undefined(r)?f:g(f,r);switch(f.length){case 0:for(d in a)q(a,
d)&&(k?e-=f():(e=a[d],k=!0));break;case 1:for(d in a)q(a,d)&&(k?e-=f(a[d]):(e=a[d],k=!0));break;case 2:for(d in a)q(a,d)&&(k?e-=f(a[d],d):(e=a[d],k=!0));break;default:for(d in a)q(a,d)&&(k?e-=f(a[d],d,a):(e=a[d],k=!0))}}a=e}return a};var h=w("roll");return c}(),R=function(){function b(c,l){if(2>arguments.length)throw g("Missing a val");return c===l}b.loose=function(b,c){if(2>arguments.length)throw g("Missing a val","loose");return b==c};b.ish=b.loose;var g=w("same");return b}(),S=function(){function c(c,
l,m){if(!b.un.num(l))throw g.type("start");if(!b.un.num(m))throw g.type("end");if(b.nil(c))return null;if(b.str(c))return D(c,l,m);if(!b._obj(c))throw g.type("source");if(!b.num(c.length))throw g.type("source.length");return r(c,l,m)}c.array=function(c,l,m){if(!b._obj(c))throw g.type("source","array");if(!b.num(c.length))throw g.type("source.length","array");if(!b.un.num(l))throw g.type("start","array");if(!b.un.num(m))throw g.type("end","array");return r(c,l,m)};c.arr=c.array;c.string=function(c,
l,m){if(!b.str(c))throw g.type("str","string");if(!b.un.num(l))throw g.type("start","string");if(!b.un.num(m))throw g.type("end","string");return D(c,l,m)};c.str=c.string;var g=w("slice");return c}(),T=function(){var c={string:function(c,l){if(!arguments.length)throw g("Missing a val","string");if(!b.un.str(l))throw g.type("joiner","string");return b.arr(c)&&b.str(l)?c.join(l):String(c)}};c.str=c.string;c.number=function(b){if(!arguments.length)throw g("Missing a val","number");return Number(b)};
c.num=c.number;c["boolean"]=function(b){if(!arguments.length)throw g("Missing a val","boolean");return!!b};c.bool=c["boolean"];c.array=function(c,l){if(!arguments.length)throw g("Missing a val","array");if(b.num(c))return Array(c);if(!b.str(c))throw g.type("val","array");if(b.undefined(l))return c.split();l=b.regex(l)?l:String(l);return c.split(l)};c.arr=c.array;c.regexp=function(c,l){if(!arguments.length)throw g("Missing a source","regexp");if(!b.str(c))throw g.type("source","regexp");if(!b.un.str(l))throw g.type("flags",
"regexp");return l?new RegExp(c,l):new RegExp(c)};c.regex=c.regexp;c.re=c.regexp;c.upperCase=function(c){if(!arguments.length)throw g("Missing a str","upperCase");if(!b.str(c))throw g.type("source","upperCase");return c.toUpperCase()};c.upper=c.upperCase;c.lowerCase=function(c){if(!arguments.length)throw g("Missing a str","lowerCase");if(!b.str(c))throw g.type("source","lowerCase");return c.toLowerCase()};c.lower=c.lowerCase;var g=w("to");return c}(),U=function(){function c(c,a,e,d){if(2>arguments.length)throw p("No end or iteratee defined");
if(2===arguments.length){e=a;if(!b.func(e))throw p.type("iteratee");return g(c,e)}if(3===arguments.length&&b.func(a)&&b.nil.obj(e))return d=e,g(c,a,d);if(!b.func(e))throw p.type("iteratee");if(!b.nil.un.obj(d))throw p.type("thisArg");if(b.num(a))return m(c,a,e,d);b.str(a)&&(a=A(a));if(!b._obj(a))throw p.type("source");return b._arr(a)?l(c,a,e,d):h(c,a,e,d)}function g(c,a,e){a=b.undefined(e)?a:n(a,e);if(a.length)for(e=0;a(e++)!==c;);else for(;a()!==c;);return!0}function h(c,a,e,d){var g;a=2<e.length?
v(a):a;e=b.undefined(d)?e:n(e,d);switch(e.length){case 0:for(g in a)if(q(a,g)&&e()===c)return!0;break;case 1:for(g in a)if(q(a,g)&&e(a[g])===c)return!0;break;case 2:for(g in a)if(q(a,g)&&e(a[g],g)===c)return!0;break;default:for(g in a)if(q(a,g)&&e(a[g],g,a)===c)return!0}return!1}function l(c,a,e,d){var g;a=2<e.length?v.arr(a):a;e=b.undefined(d)?e:n(e,d);d=a.length;g=-1;switch(e.length){case 0:for(;++g<d;)if(e()===c)return!0;break;case 1:for(;++g<d;)if(e(a[g])===c)return!0;break;case 2:for(;++g<d;)if(e(a[g],
g)===c)return!0;break;default:for(;++g<d;)if(e(a[g],g,a)===c)return!0}return!1}function m(c,a,e,d){e=b.undefined(d)?e:n(e,d);if(e.length)for(d=0;a--;){if(e(d++)===c)return!0}else for(;a--;)if(e()===c)return!0;return!1}function n(b,a){switch(b.length){case 0:return function(){return b.call(a)};case 1:return function(c){return b.call(a,c)};case 2:return function(c,d){return b.call(a,c,d)}}return function(c,d,g){return b.call(a,c,d,g)}}c.object=function(c,a,e,d){if(!b._obj(a))throw p.type("obj","object");
if(!b.func(e))throw p.type("iteratee","object");if(!b.nil.un.obj(d))throw p.type("thisArg","object");return h(c,a,e,d)};c.obj=c.object;c.array=function(c,a,e,d){b.str(a)&&(a=A(a));if(!b._obj(a))throw p.type("source","array");if(!b.num(a.length))throw p.type("source.length","array");if(!b.func(e))throw p.type("iteratee","array");if(!b.nil.un.obj(d))throw p.type("thisArg","array");return l(c,a,e,d)};c.arr=c.array;c.cycle=function(c,a,e,d){if(!b.num(a))throw p.type("count","cycle");if(!b.func(e))throw p.type("action",
"cycle");if(!b.nil.un.obj(d))throw p.type("thisArg","cycle");return m(c,a,e,d)};c.time=c.cycle;var p=w("until");return c}();return{copy:v,cut:J,each:K,fill:L,fuse:M,get:N,has:O,is:C,remap:P,roll:Q,same:R,slice:S,to:T,until:U}}());
